Build a Node.js Express server connected to a Neon PostgreSQL instance using the @neondatabase/serverless driver, storing user profiles and chat history in a table with a JSONB column for flexible message logging. When a message arrives from your Flowbuilder, the backend will query Neon by waNumber to either initialize a new user or retrieve existing history; if the waMSG array exceeds a set threshold, the logic triggers a summarization call to Puter's AI (GPT-5-nano) to condense the context, updates the summary field, and flushes the history to optimize performance. Finally, the system constructs a prompt combining the persistent summary with the current message, fetches the AI response via Puter's no-auth API, and saves the updated interaction back to Neon before returning the reply to the Flowbuilder.